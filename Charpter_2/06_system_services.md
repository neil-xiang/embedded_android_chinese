> 翻译：[Neil-xiang](https://github.com/Neil-xiang)
> 校对：

###系统服务(System Services)
	系统服务是Android的幕后人物.即使Google的应用开发文档中没有明确提及，Android中远程有趣的任何操作都可以通过大约50到70个系统服务之一进行。这些服务合作共同提供了基本上相当于构建在Linux
上的面向对象的操作系统，这正是Binder所建立的所有系统服务的机制。我们刚刚涵盖的本地用户空间实际上被设计为Android系统服务的支持环境。因此，了解什么系统服务存在以及以及它们如何与系统的其
他部分进行交互至关重要。我们已经将其中的一些在Android硬件支持的部分讨论过了。
	图2-4更详细地说明了之前在图2-1中介绍的系统服务。你可以看到，实际上涉及到几个主要的进程。最显著的是系统服务，其主要由Java编码的服务组成，其中有两个以C/C ++编写的服务，其组件都在
system_server进程下运行。系统服务还包含一些通过JNI访问的本地代码允许java代码与Android的底层进行交互。另一个系统服务包含在Media服务中，以mediaserver形式运行。这些服务都以C/C ++编写，并
与媒体相关的组件（如StageFright多媒体框架和音频效果）一起打包。最后，电话应用程序将电话服务与其他应用程序分开放置。注意自从Android4.0/Ice-Cream Sandwich开始，Surface Flinger已经被分离
成独立进程。
		**这里的术语不是我选择的，但是很不幸很有迷惑性。“System Server”进程在同一进程中容纳多个系统服务。‘Media Service’也是一样。“System Server”和“Media Service”都是单数形式，无论其组成的
			系统服务数量如何.当本书涉及“System Servers”时，它是指系统中可用的所有系统服务，而不考虑其运行的进程。所以简而言之，“SystemServer”和“Media Service”都不是“System Servers”的一部分。
			相反，它们是用于运行后者的进程。
			
		*图2-4 系统服务
	请注意，尽管只有少数进程可以容纳整个Android的系统服务，他们似乎独立地通过Binder连接到他们的服务。这是Android2.3/Gingerbread仿真器上的服务实用程序的输出：
	# service list
	Found 50 services:
	0 phone: [com.android.internal.telephony.ITelephony]
	1 iphonesubinfo: [com.android.internal.telephony.IPhoneSubInfo]
	2 simphonebook: [com.android.internal.telephony.IIccPhoneBook]
	3 isms: [com.android.internal.telephony.ISms]
	4 diskstats: []
	5 appwidget: [com.android.internal.appwidget.IAppWidgetService]
	6 backup: [android.app.backup.IBackupManager]
	7 uimode: [android.app.IUiModeManager]
	8 usb: [android.hardware.usb.IUsbManager]
	9 audio: [android.media.IAudioService]
	10 wallpaper: [android.app.IWallpaperManager]
	11 dropbox: [com.android.internal.os.IDropBoxManagerService]
	12 search: [android.app.ISearchManager]
	13 location: [android.location.ILocationManager]
	14 devicestoragemonitor: []
	15 notification: [android.app.INotificationManager]
	16 mount: [IMountService]
	17 accessibility: [android.view.accessibility.IAccessibilityManager]
	18 throttle: [android.net.IThrottleManager]
	19 connectivity: [android.net.IConnectivityManager]
	20 wifi: [android.net.wifi.IWifiManager]
	21 network_management: [android.os.INetworkManagementService]
	22 netstat: [android.os.INetStatService]
	23 input_method: [com.android.internal.view.IInputMethodManager]
	24 clipboard: [android.text.IClipboard]
	25 statusbar: [com.android.internal.statusbar.IStatusBarService]
	26 device_policy: [android.app.admin.IDevicePolicyManager]
	27 window: [android.view.IWindowManager]
	28 alarm: [android.app.IAlarmManager]
	29 vibrator: [android.os.IVibratorService]
	30 hardware: [android.os.IHardwareService]
	31 battery: []
	32 content: [android.content.IContentService]
	33 account: [android.accounts.IAccountManager]
	34 permission: [android.os.IPermissionController]
	35 cpuinfo: []
	36 meminfo: []
	37 activity: [android.app.IActivityManager]
	38 package: [android.content.pm.IPackageManager]
	39 telephony.registry: [com.android.internal.telephony.ITelephonyRegistry]
	40 usagestats: [com.android.internal.app.IUsageStats]
	41 batteryinfo: [com.android.internal.app.IBatteryStats]
	42 power: [android.os.IPowerManager]
	43 entropy: []
	44 sensorservice: [android.gui.SensorServer]
	45 SurfaceFlinger: [android.ui.ISurfaceComposer]
	46 media.audio_policy: [android.media.IAudioPolicyService]
	47 media.camera: [android.hardware.ICameraService]
	48 media.player: [android.media.IMediaPlayerService]
	49 media.audio_flinger: [android.media.IAudioFlinger]
	
	以下是Android 4.2/Jelly Bean仿真器的输出：
	root@android:/ # service list
	Found 68 services:
	0 phone: [com.android.internal.telephony.ITelephony]
	1 iphonesubinfo: [com.android.internal.telephony.IPhoneSubInfo]
	2 simphonebook: [com.android.internal.telephony.IIccPhoneBook]
	3 isms: [com.android.internal.telephony.ISms]
	4 dreams: [android.service.dreams.IDreamManager]
	5 commontime_management: []
	6 samplingprofiler: []
	7 diskstats: []
	8 appwidget: [com.android.internal.appwidget.IAppWidgetService]
	9 backup: [android.app.backup.IBackupManager]
	10 uimode: [android.app.IUiModeManager]
	11 serial: [android.hardware.ISerialManager]
	12 usb: [android.hardware.usb.IUsbManager]
	13 audio: [android.media.IAudioService]
	14 wallpaper: [android.app.IWallpaperManager]
	15 dropbox: [com.android.internal.os.IDropBoxManagerService]
	16 search: [android.app.ISearchManager]
	17 country_detector: [android.location.ICountryDetector]
	18 location: [android.location.ILocationManager]
	19 devicestoragemonitor: []
	20 notification: [android.app.INotificationManager]
	21 updatelock: [android.os.IUpdateLock]
	22 throttle: [android.net.IThrottleManager]
	23 servicediscovery: [android.net.nsd.INsdManager]
	24 connectivity: [android.net.IConnectivityManager]
	25 wifi: [android.net.wifi.IWifiManager]
	26 wifip2p: [android.net.wifi.p2p.IWifiP2pManager]
	27 netpolicy: [android.net.INetworkPolicyManager]
	28 netstats: [android.net.INetworkStatsService]
	29 textservices: [com.android.internal.textservice.ITextServicesManager]
	30 network_management: [android.os.INetworkManagementService]
	31 clipboard: [android.content.IClipboard]
	32 statusbar: [com.android.internal.statusbar.IStatusBarService]
	33 device_policy: [android.app.admin.IDevicePolicyManager]
	34 lock_settings: [com.android.internal.widget.ILockSettings]
	35 mount: [IMountService]
	36 accessibility: [android.view.accessibility.IAccessibilityManager]
	37 input_method: [com.android.internal.view.IInputMethodManager]
	38 input: [android.hardware.input.IInputManager]
	39 window: [android.view.IWindowManager]
	40 alarm: [android.app.IAlarmManager]
	41 vibrator: [android.os.IVibratorService]
	42 battery: []
	43 hardware: [android.os.IHardwareService]
	44 content: [android.content.IContentService]
	45 account: [android.accounts.IAccountManager]
	46 user: [android.os.IUserManager]
	47 permission: [android.os.IPermissionController]
	48 cpuinfo: []
	49 dbinfo: []
	50 gfxinfo: []
	51 meminfo: []
	52 activity: [android.app.IActivityManager]
	53 package: [android.content.pm.IPackageManager]
	54 scheduling_policy: [android.os.ISchedulingPolicyService]
	55 telephony.registry: [com.android.internal.telephony.ITelephonyRegistry]
	56 display: [android.hardware.display.IDisplayManager]
	57 usagestats: [com.android.internal.app.IUsageStats]
	58 batteryinfo: [com.android.internal.app.IBatteryStats]
	59 power: [android.os.IPowerManager]
	60 entropy: []
	61 sensorservice: [android.gui.SensorServer]
	62 media.audio_policy: [android.media.IAudioPolicyService]
	63 media.camera: [android.hardware.ICameraService]
	64 media.player: [android.media.IMediaPlayerService]
	65 media.audio_flinger: [android.media.IAudioFlinger]
	66 drm.drmManager: [drm.IDrmManagerService]
	67 SurfaceFlinger: [android.ui.ISurfaceComposer]
	
	不幸的是，这些服务如何工作的资料都不是很多。您必须查看每个服务的源代码，以准确了解其工作原理以及如何与其他服务进行交互。

	